{% include 'templates/partials/modal/admin/ads/_edit-sections.html'%}
<div class="multisteps-form__panel p-4 rounded" data-animation="scaleIn">
  <div class="heading-arrows-container d-flex justify-content-between">
    <button class="multistep-form__arrow"><i class="fa fa-solid fa-chevron-left"></i></button>
    <h3 class="multisteps-form__title text-center">Sections</h3>
    <button class="multistep-form__arrow"><i class="fa fa-solid fa-chevron-right"></i></button>
  </div>
  <div class="multisteps-form__content">
    <div class="save-container">
      <button class="btn btn-secondary-light">Save Changes</button>
    </div>

    <div class="new-section-container custom-container mgb-3">
      <div class="heading-container text-center">
        <h3 class="heading">New Section</h3>
        <hr />
      </div>

      <div class="">
        <div class="row mgb-3">
          <div class="col-md-5">
            <div class="form-group">
              <p class="text-muted mx-2 mx-md-2 mgx-2">Enter Your Section Name, Code Then select publications you want the Section assigned to</p>
            </div>

            <div class="form-group">
              <label for="">Name:</label>
              <input type="text" class="form-control" name="" id="" />
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="">Code:</label>
                  <input type="text" class="form-control" name="code" id="" />
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="">Default Rates:</label>
                  <select type="text" class="form-control" name="default_rate" id="">
                    {% for subrate in subrates %}
                      <option value="{{subrate.id}}">{{subrate.name}}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-7">{% include "components/item_select.html" with item_type="publications" available_items=publications %}</div>
        </div>

        <div class="btn-container text-center">
          <button class="btn btn-secondary" onclick="create()">Create</button>
        </div>
      </div>
    </div>

    <div class="sections-container">
      <div class="">
        <div class="row mb-2">
          <div class="col-md-6">
            <div class="filter-container d-flex">
              <div class="filters ps-3 d-flex align-items-center"><a href="" class="active">Active</a>&nbsp;|&nbsp;<a href="">Inactive</a>&nbsp;|&nbsp;<a href="">Archived</a></div>
            </div>
          </div>
          <div class="col-md-6 custom-search-container">
            <div class="form-group has-search">
              <input type="text" class="form-control" placeholder="Search..." />
              <span class="fa fa-search form-control-feedback"></span>
            </div>
          </div>
        </div>

        <hr />
      </div>

      <div class="table-container mt-3">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">ID #</th>
              <th scope="col">Name</th>
              <th scope="col">Code</th>
              <th scope="col">Sub Section</th>
              <th scope="col">Publications</th>
              <th scope="col">Status</th>
              <th scope="col">Created By</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>0001</td>
              <td>Section Name</td>
              <td>Section_1</td>
              <td>Obits</td>
              <td><a href="">See List</a></td>
              <td>
                <div class="sections-switch-container">
                  <div class="switch-field">
                    <input type="radio" id="0001-section-radio-one" name="0001-section-switch-one" value="active" checked />
                    <label for="0001-section-radio-one">Active</label>
                    <input type="radio" id="0001-section-radio-two" name="0001-section-switch-one" value="inactive" />
                    <label for="0001-section-radio-two">Inactive</label>
                  </div>
                </div>
              </td>
              <td>
                <span class="pe-3 color-secondary" onclick="document.getElementById('editSections').style.cssText = 'display: block; opacity: 1; visibility: visible;'"><i class="fa fa-solid fa-pencil mgr-1"></i></span>
                <span class="color-secondary"><i class="fa fa-solid fa-envelope-open"></i></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="save-container d-flex justify-content-end mt-5">
        <button class="btn btn-secondary-light">Save Changes</button>
      </div>
    </div>
  </div>

  <script>
    function create() {
    //   let form = $('#new-adminadtype-form');
    //   var formData = new FormData(form[0]);
    //   let data = {};
      
    //   for (const [key, value] of formData) {
    //       data[key] = value;
    //   }
    //   var selectElement = document.getElementById('new-adtype-lstBox2');
    //   var values = [];
    //   for (var i = 0; i < selectElement.options.length; i++) {
    //       values.push(selectElement.options[i].value);
    //   }
    //   data['publication_id'] = JSON.stringify(values);
    //   fetch("ads/create-adtype", {
    //     method: "POST",
    //     credentials: "same-origin",
    //     headers: {
    //         "X-CSRFToken": "{{ csrf_token }}",
    //         "Accept": "application/json",
    //         'Content-Type': 'application/json'
    //     },
    //     body: JSON.stringify(data),
    //   })
    //   .then(response => response.json())
    //   .then((response) => {
    //     // window.location.href = `{% url 'adminAds' %}`
    //     if(response.success) {
    //       $.toastr.success('New AdType created succesfully');
    //     }
    //     else {
    //       $.toastr.error('Creating AdType failed');
    //     }
    //   })
    }
  </script>
</div>
